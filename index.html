<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>50g Protein — High-Protein, Made Easy</title>
  <meta name="description" content="Join the early list for chef-level proteins with zero hassle. Get founder updates, first-access promos, and our quick-start guide." />
  <link rel="icon" href="assets/favicon.png" />
  <style>
    :root {
      --bg: #f9fbfd;
      --text: #0f172a;
      --muted: #475569;
      --card: #fff;
      --border: #e2e8f0;
      --brand: #0ea5e9;
      --brand-hover: #0284c7;
      --shadow: 0 6px 24px rgba(2,6,23,.06);
      --radius: 14px;
      --maxw: 640px;
    }
    html, body { margin: 0; }
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      text-align: center;
    }
    .container { width: 100%; max-width: var(--maxw); padding: 28px 18px 48px; margin: 0 auto; }
    .logo { display: block; margin: 8px auto 20px; width: 220px; height: auto; }
    h1 { font-size: clamp(28px, 5.4vw, 42px); margin: 0 0 8px; letter-spacing: -0.02em; line-height: 1.12; }
    p.lead { margin: 0 auto 22px; color: var(--muted); max-width: 48ch; font-size: clamp(16px, 2.8vw, 18px); line-height: 1.5; }
    .card { background: var(--card); border: 1px solid var(--border); border-radius: var(--radius); box-shadow: var(--shadow); padding: 20px 16px 22px; margin: 0 auto; max-width: var(--maxw); }
    .card h2 { margin: 0 0 6px; font-size: 22px; }
    .muted { color: var(--muted); font-size: 14px; margin: 0 0 14px; }
    form { margin-top: 6px; }
    input, textarea, button { font: inherit; width: min(560px, 92%); display: block; margin: 10px auto; padding: 12px 14px; border-radius: 12px; }
    input, textarea { border: 1px solid var(--border); background: #fff; text-align: left; }
    textarea { resize: vertical; min-height: 96px; }
    button { border: 1px solid var(--border); background: var(--brand); color: #fff; font-weight: 700; cursor: pointer; }
    button:hover { background: var(--brand-hover); }
    .notice { display: none; width: min(560px, 92%); margin: 12px auto 0; padding: 12px 14px; border-radius: 12px; font-size: 14px; text-align: left; }
    .ok { background:#ecfdf5; border:1px solid #a7f3d0; color:#065f46; }
    .err { background:#fef2f2; border:1px solid #fecaca; color:#991b1b; }
    footer { margin-top: 22px; color: #64748b; font-size: 13px; }
    .survey-block { margin: 48px auto; max-width: 900px; }
    .survey-block h2 { font-size: 24px; margin-bottom: 16px; }
    .survey-frame { border:1px solid var(--border); border-radius:12px; width:100%; min-height:6000px; }
  </style>
</head>
<body>
  <main class="container">
    <img src="assets/logo.png" alt="50 Grams Logo" class="logo" />

    <h1>High-Protein,<br>Made Easy</h1>
    <p class="lead">
      Join the early list for chef-level proteins with zero hassle.
      We’ll send founder updates, first-access promos, and our quick-start guide.
    </p>

    <section class="card" aria-labelledby="cta">
      <h2 id="cta">Get on the list</h2>
      <p class="muted">Sign up for Free Figo Smart Sous Vide.</p>

      <form id="signup-form" action="https://formspree.io/f/meolyqnw" method="POST">
        <input type="email" name="email" placeholder="you@example.com" aria-label="Your email" required />
        <textarea name="message" placeholder="Tell us what protein boxes you want…" aria-label="Optional message"></textarea>

        <input type="hidden" name="_subject" value="New signup from 50gprotein.com" />
        <input type="hidden" name="source" value="GitHub Pages landing" />
        <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />

        <button type="submit" id="submitBtn">Join Now</button>
      </form>

      <div id="ok" class="notice ok">Thanks! Please check your inbox to confirm — you’re almost on the list.</div>
      <div id="err" class="notice err">Hmm, something went wrong. Please try again or email <a href="mailto:info@eatfigo.com">info@eatfigo.com</a>.</div>
    </section>

    <!-- Survey Section -->
    <section class="survey-block">
      <h2>High-Protein Solutions Market Survey</h2>
      <iframe
        id="survey-frame"
        class="survey-frame"
        src="https://www.surveymonkey.com/r/3KYDZDT?smcxref=site_embed"
        frameborder="0"
        scrolling="no"
        loading="lazy"
        title="50g Protein Market Survey"
        allowtransparency="true">
      </iframe>
    </section>

    <footer>© <span id="year"></span> 50 Grams — Built on GitHub Pages</footer>
  </main>

  <script>
    // current year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Formspree: inline success without redirect
    const form = document.getElementById('signup-form');
    const ok   = document.getElementById('ok');
    const err  = document.getElementById('err');
    const btn  = document.getElementById('submitBtn');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      ok.style.display = 'none';
      err.style.display = 'none';
      btn.disabled = true;

      try {
        const resp = await fetch(form.action, {
          method: 'POST',
          headers: { 'Accept': 'application/json' },
          body: new FormData(form)
        });
        if (resp.ok) { form.reset(); ok.style.display = 'block'; }
        else { err.style.display = 'block'; }
      } catch {
        err.style.display = 'block';
      } finally {
        btn.disabled = false;
      }
    });

    // Auto-resize SurveyMonkey iframe (with very tall fallback)
    (function () {
      var frame = document.getElementById('survey-frame');
      function setH(h) {
        var n = parseInt(h || 0, 10);
        if (!isFinite(n) || n < 0) n = 0;
        var min = 6000; // safe triple size
        frame.style.height = Math.max(n, min) + 'px';
      }
      window.addEventListener('message', function (e) {
        var d = e.data;
        try {
          if (typeof d === 'string' && d.indexOf('surveymonkey-iframe-height') === 0) {
            setH(d.split(':')[1]);
          }
        } catch (_) { }
      }, false);
    })();
  </script>
</body>
</html>